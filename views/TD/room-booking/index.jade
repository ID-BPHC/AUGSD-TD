extends ../master-dashboard

block content
    - const currentTime = new Date();
    - const currentDay = currentTime.getDay(); // 0 = Sunday, 1 = Monday, ..., 6 = Saturday
    - const currentHour = currentTime.getHours();
    - const currentMinutes = currentTime.getminutes();
    - const isSaturday = currentDay === 6; // Check if it's Saturday
    - const isPortalClosed = (
        ((currentHour >= 16 && currentMinutes >=30) && currentHour < 8) || // Weekdays: Closed between 4:30 PM to 8:00 AM the next day
        (isSaturday && (currentHour >= 12 && currentMinutes >= 30)) || // Saturday: Closes at 12:30 PM
        (currentDay === 0) // Sunday: Closed
    );

    div.mdl-cell.mdl-cell--12-col
        h2 Room Booking Portal

    div.mdl-cell.mdl-cell--12-col
        if isPortalClosed
            p The Room Booking Portal is currently closed. Please try again later. 
			p The portal is open to booking from 8:00 AM to 4:30 PM on weekdays and 8:00 AM to 12:30 PM on Saturdays. It shall remain closed on Sundays and institute holidays.

        ul.mdl-list
            if dashboard.type == 'Student'
                li.mdl-list__item
                    span.mdl-list__item-primary-content
                        i.material-icons.mdl-list__item-icon person
                        | Student booking the room is responsible for the room and its contents. For club-related activities, prior permission from your FIC must be sent to TTD via email

                li.mdl-list__item
                    span.mdl-list__item-primary-content
                        i.material-icons.mdl-list__item-icon event_seat
                        | The existing furniture inside the classroom should not be moved or removed. Permission from Faculty in-charge, TD is needed for the same

                li.mdl-list__item
                    span.mdl-list__item-primary-content
                        i.material-icons.mdl-list__item-icon local_bar
                        | Food and beverages are not allowed inside the classroom

    div.mdl-cell.mdl-cell--6-col.center
        button.mdl-button.mdl-js-button.mdl-button--raised.mdl-js-ripple-effect.mdl-button--primary(onclick="window.location.replace('#{rootURL}/#{reqPortal}/book')")
            i.material-icons add
            | New Booking

    div.mdl-cell.mdl-cell--6-col.center
        button.mdl-button.mdl-js-button.mdl-button--raised.mdl-js-ripple-effect.mdl-button--primary(onclick="window.location.replace('#{rootURL}/#{reqPortal}/view')")
            i.material-icons settings
            | Manage Bookings
