extends ../../nav

block content
	style.
		td {
		cursor: pointer;
		}
	script(type='text/javascript').
		document.getElementsByClassName('mdl-navigation__link menuselectify')[0].classList.remove('menuselectify')
		document.getElementById('room-booking-approval').classList.add('menuselectify')
	div.mdl-cell.mdl-cell--12-col
		h2 Room Booking Approval

	div.mdl-cell.mdl-cell--12-col
		center
			table.mdl-data-table.mdl-js-data-table.mdl-shadow--2dp
				thead
					tr
						th.mdl-data-table__cell--non-numeric Room
						th.mdl-data-table__cell--non-numeric From
						th.mdl-data-table__cell--non-numeric To
						th.mdl-data-table__cell--non-numeric Booked By
						th.mdl-data-table__cell--non-numeric Phone
				tbody
					for booking in bookings
						tr(onclick='window.location.replace("#{rootURL}/room-booking-approval/view/#{booking._id}")')
							td.mdl-data-table__cell--non-numeric #{booking.number}
							td.mdl-data-table__cell--non-numeric #{booking.start.toString().substring(0, 21)}
							td.mdl-data-table__cell--non-numeric #{booking.end.toString().substring(0, 21)}
							td.mdl-data-table__cell--non-numeric #{booking.bookedBy.split('@')[0]}
							td.mdl-data-table__cell--non-numeric #{booking.phone}
		script.
			window.setInterval(function(){
				window.location.reload();
			}, 300000);